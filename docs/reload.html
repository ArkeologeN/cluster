<html>
  <head>
    <title>Cluster - extensible multi-core server management for nodejs</title>
    <link rel='stylesheet' href='../main.css' />
  </head>
  <body class="subpage">
    <div id="content"><div class='mp'>
<h2 id="Reload">Reload</h2>

<p>  Restart the server the given <code>files</code> have changed.
  <code>files</code> may be several directories, filenames, etc.</p>

<h3 id="Options">Options</h3>

<ul>
<li><code>signal</code> Signal to send, defaults to <strong>SIGTERM</strong></li>
<li><code>interval</code> Watcher interval, defaulting to <code>100</code></li>
</ul>


<h3 id="Usage">Usage</h3>

<p> The <code>reload(paths[, signal])</code> plugin accepts a single path, or an array of paths, watching for <strong>mtime</strong> changes, and re-loading the workers when a change has been made. By default the <strong>SIGTERM</strong> signal is sent, killing the workers immediately, however we may pass a <code>signal</code> for graceful termination as well.</p>

<p> Reload when files in <code>./lib</code> change:</p>

<pre><code>    cluster(server)
      .use(cluster.reload('lib'))
      .listen(3000);
</code></pre>

<p> Reload when files in <code>./lib</code>, <code>./tests</code>, or the <code>./index.js</code> file change:</p>

<pre><code>    cluster(server)
      .use(cluster.reload(['lib', 'tests', 'index.js']))
      .listen(3000);
</code></pre>

<p> Graceful shutdown:</p>

<pre><code>   cluster(server)
    .use(cluster.reload('lib', { signal: 'SIGQUIT' }))
    .listen(3000);
</code></pre>

</div>
    </div>
  </body>
</html>